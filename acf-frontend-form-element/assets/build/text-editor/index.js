(()=>{"use strict";const e=window.wp.blocks,t=window.wp.i18n,n=window.wp.blockEditor,a=window.wp.components,r=window.React,l=function(e){var a=e.attributes,l=e.setAttributes,i=a.label,o=a.hide_label,c=a.required,u=a.instructions,s=function(){return Math.random().toString(36).substring(2,10)};return(0,r.useEffect)((function(){if(!(!1 in a)){a.field_key||l({field_key:s()});var e=a.field_key;if(Array.from(document.querySelectorAll(".fea-field-key")).filter((function(t){return t.textContent===e})).length>1){var t=s();l({field_key:t})}}}),[]),React.createElement("div",{className:"acf-field"},React.createElement("span",{hidden:!0,className:"fea-field-key"},a.field_key),React.createElement("div",{className:"acf-label"},React.createElement("label",null,!o&&React.createElement(n.RichText,{tagName:"span",onChange:function(e){return l({label:e})},withoutInteractiveFormatting:!0,placeholder:(0,t.__)("Text Field","frontend-admin"),value:i}),c&&React.createElement("span",{className:"acf-required"},"*"))),React.createElement("div",{className:"acf-input"},u&&React.createElement(n.RichText,{tagName:"p",className:"description",onChange:function(e){return l({instructions:e})},withoutInteractiveFormatting:!0,value:u}),React.createElement("div",{className:"acf-input-wrap"+(e.wrapperClass?" "+e.wrapperClass:""),style:{display:"flex",width:"100%"}},e.children)))};var i="frontend-admin";const o=function(e){var r=e.attributes,l=e.setAttributes,o=r.label,c=r.hide_label,u=r.required,s=r.instructions,d=function(e){return e.toLowerCase().replace(/[^a-z0-9 _]/g,"").replace(/\s+/g,"_")};return React.createElement(n.InspectorControls,{field_key:"fea-inspector-controls"},React.createElement(a.PanelBody,{title:(0,t.__)("General",i),initialOpen:!0},React.createElement(a.TextControl,{label:(0,t.__)("Label",i),value:o,onChange:function(e){return l({label:e})}}),React.createElement(a.ToggleControl,{label:(0,t.__)("Hide Label",i),checked:c,onChange:function(e){return l({hide_label:e})}}),"name"in r&&React.createElement(a.TextControl,{label:(0,t.__)("Name",i),value:r.name||d(o),onChange:function(e){return l({name:d(e)})}}),"field_key"in r&&React.createElement(a.TextControl,{label:(0,t.__)("Field Key",i),value:r.field_key,readOnly:!0,onChange:function(e){}}),React.createElement(a.TextareaControl,{label:(0,t.__)("Instructions",i),rows:"3",value:s,onChange:function(e){return l({instructions:e})}}),React.createElement(a.ToggleControl,{label:(0,t.__)("Required",i),checked:u,onChange:function(e){return l({required:e})}}),e.children))},c=window.wp.element;var u="frontend-admin";const s=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":3,"name":"frontend-admin/text-editor-field","title":"Wysiwyg","description":"Displays a text editor field.","category":"frontend-admin","textdomain":"frontend-admin","supports":{"align":["wide"]},"attributes":{"field_key":{"type":"string","default":""},"name":{"type":"string","default":""},"label":{"type":"string","default":"Wysiwyg"},"hide_label":{"type":"boolean","default":""},"required":{"type":"boolean","default":""},"default_value":{"type":"string","default":""},"placeholder":{"type":"string","default":""},"instructions":{"type":"string","default":""},"maxlength":{"type":"number","default":""},"rows":{"type":"number","default":""}},"editorScript":"file:../../text-editor/index.js"}');(0,e.registerBlockType)(s,{edit:function(e){var r=e.attributes,i=e.setAttributes,s=r.default_value,d=(r.placeholder,r.maxlength),f=r.rows,m=(r.cols,(0,c.useRef)()),p=(0,n.useBlockProps)();return(0,c.useEffect)((function(){return m.current&&(s&&m.current&&(m.current.innerHTML=s),tinymce.init({target:m.current,inline:!0,styles:{borderColor:"black"},toolbar:"undo redo | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image",menubar:!1,height:f?24*f:240,maxwidth:"100%",setup:function(e){e.on("change keyup NodeChange",(function(){i({default_value:e.getContent()})})),e.on("keydown",(function(t){if(!(d<=0)){var n=t.key;if("Backspace"!==n&&"Delete"!==n&&"ArrowLeft"!==n&&"ArrowRight"!==n&&"ArrowUp"!==n&&"ArrowDown"!==n&&"Tab"!==n)return(e.getBody().textContent||"").length+1>d?(t.preventDefault(),t.stopPropagation(),!1):void 0}})),e.on("paste",(function(t){if(!(d<=0)){var n=e.getBody().textContent||"",a=(t.clipboardData||window.clipboardData).getData("text");if(n.length+a.length>d){t.preventDefault();var r=d-n.length;if(r>0){var l=a.substring(0,r);e.insertContent(l)}return!1}}}))}})),function(){m.current&&tinymce.get(m.current.id)&&tinymce.get(m.current.id).destroy()}}),[d]),React.createElement("div",p,React.createElement(o,e,React.createElement(a.TextControl,{type:"number",label:(0,t.__)("Character Limit",u),value:d,onChange:function(e){return i({maxlength:parseInt(e)})}}),React.createElement(a.TextControl,{type:"number",label:(0,t.__)("Rows",u),value:f,onChange:function(e){return i({rows:parseInt(e)})}})),React.createElement(l,e,React.createElement("div",{ref:m,style:{minHeight:"".concat(20*f,"px"),border:"1px solid #ccc",padding:"8px",width:"100%"}})))},save:function(){return null}})})();